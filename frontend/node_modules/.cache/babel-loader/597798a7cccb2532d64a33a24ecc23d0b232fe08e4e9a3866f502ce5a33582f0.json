{"ast":null,"code":"import _objectSpread from\"/root/pdv-visite-campos/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:3001/api';function App(){const[token,setToken]=useState(localStorage.getItem('token'));const[usuario,setUsuario]=useState(JSON.parse(localStorage.getItem('usuario')||'null'));const[tela,setTela]=useState('login');// Estados globais\nconst[produtos,setProdutos]=useState([]);const[atracoes,setAtracoes]=useState([]);const[loading,setLoading]=useState(false);const[mensagem,setMensagem]=useState(null);// Configurar axios\nuseEffect(()=>{if(token){axios.defaults.headers.common['Authorization']=\"Bearer \".concat(token);}},[token]);// Carregar dados iniciais\nuseEffect(()=>{if(token){carregarProdutos();if((usuario===null||usuario===void 0?void 0:usuario.permissao)==='admin'){carregarAtracoes();}}},[token]);const carregarProdutos=async()=>{try{const res=await axios.get(\"\".concat(API_URL,\"/produtos\"));setProdutos(res.data);}catch(error){console.error('Erro ao carregar produtos:',error);}};const carregarAtracoes=async()=>{try{const res=await axios.get(\"\".concat(API_URL,\"/atracoes\"));setAtracoes(res.data);}catch(error){console.error('Erro ao carregar atraÃ§Ãµes:',error);}};const mostrarMensagem=function(texto){let tipo=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'sucesso';setMensagem({texto,tipo});setTimeout(()=>setMensagem(null),5000);};const logout=()=>{localStorage.removeItem('token');localStorage.removeItem('usuario');setToken(null);setUsuario(null);setTela('login');delete axios.defaults.headers.common['Authorization'];};if(!token){return/*#__PURE__*/_jsx(TelaLogin,{setToken:setToken,setUsuario:setUsuario,setTela:setTela,mostrarMensagem:mostrarMensagem});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-brand\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDFAB PDV Visite Campos\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"user-info\",children:[\"\\uD83D\\uDC64 \",usuario===null||usuario===void 0?void 0:usuario.nome,\" \",(usuario===null||usuario===void 0?void 0:usuario.permissao)==='admin'&&'(Admin)']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-menu\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela('nova-venda'),className:tela==='nova-venda'?'active':'',children:\"\\uD83C\\uDF9F\\uFE0F Nova Venda\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela('historico'),className:tela==='historico'?'active':'',children:\"\\uD83D\\uDCCA Hist\\xF3rico\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela('ranking'),className:tela==='ranking'?'active':'',children:\"\\uD83C\\uDFC6 Ranking\"}),(usuario===null||usuario===void 0?void 0:usuario.permissao)==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela('produtos'),className:tela==='produtos'?'active':'',children:\"\\uD83D\\uDCE6 Produtos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela('atracoes'),className:tela==='atracoes'?'active':'',children:\"\\uD83C\\uDFDB\\uFE0F Atra\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela('pedidos-yampi'),className:tela==='pedidos-yampi'?'active':'',children:\"\\uD83D\\uDED2 Pedidos Yampi\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela('classificacao'),className:tela==='classificacao'?'active':'',children:\"\\uD83D\\uDCCB Classifica\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela('operadores'),className:tela==='operadores'?'active':'',children:\"\\uD83D\\uDC65 Operadores\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela('configuracoes'),className:tela==='configuracoes'?'active':'',children:\"\\u2699\\uFE0F Configura\\xE7\\xF5es\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"btn-logout\",children:\"\\uD83D\\uDEAA Sair\"})]})]}),mensagem&&/*#__PURE__*/_jsxs(\"div\",{className:\"mensagem \".concat(mensagem.tipo),children:[mensagem.tipo==='sucesso'?'âœ…':'âŒ',\" \",mensagem.texto]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[tela==='nova-venda'&&/*#__PURE__*/_jsx(TelaNovaVenda,{produtos:produtos,usuario:usuario,mostrarMensagem:mostrarMensagem}),tela==='historico'&&/*#__PURE__*/_jsx(TelaHistorico,{}),tela==='ranking'&&/*#__PURE__*/_jsx(TelaRanking,{}),tela==='produtos'&&/*#__PURE__*/_jsx(TelaProdutos,{produtos:produtos,atracoes:atracoes,carregarProdutos:carregarProdutos,mostrarMensagem:mostrarMensagem}),tela==='atracoes'&&/*#__PURE__*/_jsx(TelaAtracoes,{atracoes:atracoes,carregarAtracoes:carregarAtracoes,mostrarMensagem:mostrarMensagem,setTela:setTela}),tela==='pedidos-yampi'&&/*#__PURE__*/_jsx(TelaPedidosYampi,{mostrarMensagem:mostrarMensagem}),tela==='classificacao'&&/*#__PURE__*/_jsx(TelaClassificacao,{produtos:produtos,atracoes:atracoes,mostrarMensagem:mostrarMensagem}),tela==='operadores'&&/*#__PURE__*/_jsx(TelaOperadores,{mostrarMensagem:mostrarMensagem}),tela==='configuracoes'&&/*#__PURE__*/_jsx(TelaConfiguracoes,{mostrarMensagem:mostrarMensagem}),tela.startsWith('atracao-')&&/*#__PURE__*/_jsx(TelaRelatorioAtracao,{atracaoId:tela.split('-')[1],setTela:setTela,mostrarMensagem:mostrarMensagem})]})]});}// ==================== TELA DE LOGIN ====================\nfunction TelaLogin(_ref){let{setToken,setUsuario,setTela,mostrarMensagem}=_ref;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const handleLogin=async e=>{e.preventDefault();setLoading(true);try{const res=await axios.post(\"\".concat(API_URL,\"/login\"),{username,password});localStorage.setItem('token',res.data.token);localStorage.setItem('usuario',JSON.stringify(res.data.operador));setToken(res.data.token);setUsuario(res.data.operador);setTela('nova-venda');mostrarMensagem(\"Bem-vindo, \".concat(res.data.operador.nome,\"!\"));}catch(error){var _error$response,_error$response$data;mostrarMensagem(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Erro ao fazer login','erro');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDFAB PDV Visite Campos\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Sistema de Vendas\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uD83D\\uDC64 Usu\\xE1rio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),placeholder:\"Digite seu usu\\xE1rio\",required:true,autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uD83D\\uDD12 Senha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Digite sua senha\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn-primary\",children:loading?'â³ Entrando...':'ðŸš€ Entrar'})]})]})});}// ==================== TELA NOVA VENDA ====================\nfunction TelaNovaVenda(_ref2){let{produtos,usuario,mostrarMensagem}=_ref2;const[formData,setFormData]=useState({nome_cliente:'',telefone_cliente:'',produto_id:'',quantidade_pessoas:1,desconto:0,tipo_desconto:'valor',venda_online:false});const[produtoSelecionado,setProdutoSelecionado]=useState(null);const[codigoVenda,setCodigoVenda]=useState('');const[loading,setLoading]=useState(false);useEffect(()=>{buscarProximoCodigo();},[]);useEffect(()=>{if(formData.produto_id){const produto=produtos.find(p=>p.id===parseInt(formData.produto_id));setProdutoSelecionado(produto);}else{setProdutoSelecionado(null);}},[formData.produto_id,produtos]);const buscarProximoCodigo=async()=>{try{const res=await axios.get(\"\".concat(API_URL,\"/vendas/proximo-codigo\"));setCodigoVenda(res.data.codigo);}catch(error){console.error('Erro ao buscar cÃ³digo:',error);}};const calcularValores=()=>{if(!produtoSelecionado)return{subtotal:0,desconto_valor:0,total:0};const subtotal=produtoSelecionado.preco*formData.quantidade_pessoas;let desconto_valor=0;if(formData.desconto>0){if(formData.tipo_desconto==='percentual'){desconto_valor=subtotal*parseFloat(formData.desconto)/100;}else{desconto_valor=parseFloat(formData.desconto);}}const total=subtotal-desconto_valor;return{subtotal,desconto_valor,total};};const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const res=await axios.post(\"\".concat(API_URL,\"/vendas\"),formData);let mensagemSucesso=\"\\u2705 Venda #\".concat(res.data.codigo_venda,\" registrada com sucesso!\");if(formData.telefone_cliente&&res.data.whatsapp){if(res.data.whatsapp.enviado){mensagemSucesso+=' ðŸ“± Ingresso enviado no WhatsApp!';}else{mensagemSucesso+=' âš ï¸ Erro ao enviar WhatsApp.';}}mostrarMensagem(mensagemSucesso);// Limpar formulÃ¡rio\nsetFormData({nome_cliente:'',telefone_cliente:'',produto_id:'',quantidade_pessoas:1,desconto:0,tipo_desconto:'valor',venda_online:false});setProdutoSelecionado(null);buscarProximoCodigo();}catch(error){var _error$response2,_error$response2$data;mostrarMensagem(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Erro ao registrar venda','erro');}finally{setLoading(false);}};const valores=calcularValores();return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-nova-venda\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDF9F\\uFE0F Nova Venda\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"codigo-venda\",children:[\"C\\xF3digo: #\",codigoVenda]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form-venda\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uD83D\\uDC64 Nome do Cliente *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.nome_cliente,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{nome_cliente:e.target.value})),placeholder:\"Digite o nome completo\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uD83D\\uDCF1 Telefone (WhatsApp)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:formData.telefone_cliente,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{telefone_cliente:e.target.value})),placeholder:\"(00) 00000-0000\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uD83C\\uDFAB Produto *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.produto_id,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{produto_id:e.target.value})),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione um produto\"}),produtos.map(produto=>/*#__PURE__*/_jsxs(\"option\",{value:produto.id,children:[produto.nome,\" - R$ \",produto.preco.toFixed(2)]},produto.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uD83D\\uDC65 Quantidade de Pessoas *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:formData.quantidade_pessoas,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{quantidade_pessoas:parseInt(e.target.value)})),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uD83D\\uDCB0 Desconto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",value:formData.desconto,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{desconto:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tipo de Desconto\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.tipo_desconto,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{tipo_desconto:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"valor\",children:\"Valor (R$)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"percentual\",children:\"Percentual (%)\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.venda_online,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{venda_online:e.target.checked}))}),\"\\uD83C\\uDF10 Venda Online\"]})}),produtoSelecionado&&/*#__PURE__*/_jsxs(\"div\",{className:\"resumo-venda\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCB5 Resumo da Venda\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"resumo-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"R$ \",valores.subtotal.toFixed(2)]})]}),valores.desconto_valor>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"resumo-item desconto\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Desconto:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"- R$ \",valores.desconto_valor.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"resumo-item total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"TOTAL:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"R$ \",valores.total.toFixed(2)]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn-primary btn-large\",children:loading?'â³ Processando...':'âœ… Registrar Venda'})]})]});}// ==================== TELA HISTÃ“RICO ====================\nfunction TelaHistorico(){const[vendas,setVendas]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{carregarVendas();},[]);const carregarVendas=async()=>{try{const res=await axios.get(\"\".concat(API_URL,\"/vendas\"));setVendas(res.data);}catch(error){console.error('Erro ao carregar vendas:',error);}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u23F3 Carregando...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-historico\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCA Hist\\xF3rico de Vendas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:carregarVendas,className:\"btn-secondary\",children:\"\\uD83D\\uDD04 Atualizar\"})]}),vendas.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCED Nenhuma venda registrada ainda\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"C\\xF3digo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cliente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Produto\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qtd\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Valor\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Vendedor\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data/Hora\"}),/*#__PURE__*/_jsx(\"th\",{children:\"WhatsApp\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:vendas.map(venda=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\"#\",venda.codigo_venda]}),/*#__PURE__*/_jsx(\"td\",{children:venda.nome_cliente}),/*#__PURE__*/_jsx(\"td\",{children:venda.produto_nome}),/*#__PURE__*/_jsx(\"td\",{children:venda.quantidade_pessoas}),/*#__PURE__*/_jsxs(\"td\",{children:[\"R$ \",venda.valor_total.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:venda.operador_nome}),/*#__PURE__*/_jsx(\"td\",{children:new Date(venda.created_at).toLocaleString('pt-BR')}),/*#__PURE__*/_jsx(\"td\",{children:venda.telefone_cliente?venda.whatsapp_enviado?'âœ…':'âŒ':'-'})]},venda.id))})]})})]});}// ==================== TELA RANKING ====================\nfunction TelaRanking(){const[ranking,setRanking]=useState([]);const[periodo,setPeriodo]=useState('total');const[loading,setLoading]=useState(true);useEffect(()=>{carregarRanking();},[periodo]);const carregarRanking=async()=>{setLoading(true);try{const res=await axios.get(\"\".concat(API_URL,\"/vendas/estatisticas?periodo=\").concat(periodo));setRanking(res.data);}catch(error){console.error('Erro ao carregar ranking:',error);}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u23F3 Carregando...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-ranking\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFC6 Ranking de Vendedores\"}),/*#__PURE__*/_jsxs(\"select\",{value:periodo,onChange:e=>setPeriodo(e.target.value),className:\"select-periodo\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"hoje\",children:\"Hoje\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ontem\",children:\"Ontem\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ultimos7dias\",children:\"\\xDAltimos 7 dias\"}),/*#__PURE__*/_jsx(\"option\",{value:\"estemes\",children:\"Este m\\xEAs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"total\",children:\"Total\"})]})]}),ranking.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCED Nenhuma venda no per\\xEDodo selecionado\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"ranking-list\",children:ranking.map((operador,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"ranking-card posicao-\".concat(index+1),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ranking-posicao\",children:[index===0&&'ðŸ¥‡',index===1&&'ðŸ¥ˆ',index===2&&'ðŸ¥‰',index>2&&\"\".concat(index+1,\"\\xBA\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ranking-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:operador.operador_nome}),/*#__PURE__*/_jsxs(\"div\",{className:\"ranking-stats\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCCA \",operador.total_vendas,\" vendas\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCB0 R$ \",operador.valor_total.toFixed(2)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83C\\uDFAF Ticket: R$ \",operador.ticket_medio.toFixed(2)]})]})]})]},operador.operador_id))})]});}// ==================== TELA PRODUTOS ====================\nfunction TelaProdutos(_ref3){let{produtos,atracoes,carregarProdutos,mostrarMensagem}=_ref3;const[modoEdicao,setModoEdicao]=useState(false);const[produtoEdicao,setProdutoEdicao]=useState(null);const[formData,setFormData]=useState({nome:'',preco:'',descricao:'',atracao_id:'',tipo_comissao:'percentual',valor_comissao:0});const abrirFormulario=function(){let produto=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(produto){setFormData({nome:produto.nome,preco:produto.preco,descricao:produto.descricao||'',atracao_id:produto.atracao_id||'',tipo_comissao:produto.tipo_comissao||'percentual',valor_comissao:produto.valor_comissao||0});setProdutoEdicao(produto);}else{setFormData({nome:'',preco:'',descricao:'',atracao_id:'',tipo_comissao:'percentual',valor_comissao:0});setProdutoEdicao(null);}setModoEdicao(true);};const handleSubmit=async e=>{e.preventDefault();try{if(produtoEdicao){await axios.put(\"\".concat(API_URL,\"/produtos/\").concat(produtoEdicao.id),formData);mostrarMensagem('Produto atualizado com sucesso!');}else{await axios.post(\"\".concat(API_URL,\"/produtos\"),formData);mostrarMensagem('Produto criado com sucesso!');}carregarProdutos();setModoEdicao(false);}catch(error){var _error$response3,_error$response3$data;mostrarMensagem(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Erro ao salvar produto','erro');}};const desativarProduto=async id=>{if(!window.confirm('Deseja realmente desativar este produto?'))return;try{await axios.delete(\"\".concat(API_URL,\"/produtos/\").concat(id));mostrarMensagem('Produto desativado com sucesso!');carregarProdutos();}catch(error){mostrarMensagem('Erro ao desativar produto','erro');}};if(modoEdicao){return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-produtos\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:produtoEdicao?'âœï¸ Editar Produto':'âž• Novo Produto'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModoEdicao(false),className:\"btn-secondary\",children:\"\\u274C Cancelar\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form-produto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nome do Produto *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.nome,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{nome:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pre\\xE7o *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",value:formData.preco,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{preco:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Atra\\xE7\\xE3o Vinculada\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.atracao_id,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{atracao_id:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Nenhuma\"}),atracoes.map(atracao=>/*#__PURE__*/_jsx(\"option\",{value:atracao.id,children:atracao.nome},atracao.id))]})]})]}),formData.atracao_id&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tipo de Comiss\\xE3o\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.tipo_comissao,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{tipo_comissao:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"percentual\",children:\"Percentual (%)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fixo\",children:\"Valor Fixo (R$)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Valor da Comiss\\xE3o \",formData.tipo_comissao==='percentual'?'(%)':'(R$)']}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",value:formData.valor_comissao,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{valor_comissao:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.descricao,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{descricao:e.target.value})),rows:\"3\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:produtoEdicao?'ðŸ’¾ Salvar AlteraÃ§Ãµes':'âž• Criar Produto'})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-produtos\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCE6 Produtos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>abrirFormulario(),className:\"btn-primary\",children:\"\\u2795 Novo Produto\"})]}),produtos.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCED Nenhum produto cadastrado\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"produtos-grid\",children:produtos.map(produto=>/*#__PURE__*/_jsxs(\"div\",{className:\"produto-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:produto.nome}),/*#__PURE__*/_jsxs(\"p\",{className:\"produto-preco\",children:[\"R$ \",produto.preco.toFixed(2)]}),produto.descricao&&/*#__PURE__*/_jsx(\"p\",{className:\"produto-descricao\",children:produto.descricao}),produto.atracao_nome&&/*#__PURE__*/_jsxs(\"div\",{className:\"produto-atracao\",children:[\"\\uD83C\\uDFDB\\uFE0F \",produto.atracao_nome,produto.valor_comissao>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"comissao-badge\",children:[\"\\uD83D\\uDCBC \",produto.tipo_comissao==='percentual'?\"\".concat(produto.valor_comissao,\"%\"):\"R$ \".concat(produto.valor_comissao)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"produto-acoes\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>abrirFormulario(produto),className:\"btn-secondary\",children:\"\\u270F\\uFE0F Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>desativarProduto(produto.id),className:\"btn-danger\",children:\"\\uD83D\\uDDD1\\uFE0F Desativar\"})]})]},produto.id))})]});}// ==================== TELA ATRAÃ‡Ã•ES ====================\nfunction TelaAtracoes(_ref4){let{atracoes,carregarAtracoes,mostrarMensagem,setTela}=_ref4;const[modoEdicao,setModoEdicao]=useState(false);const[atracaoEdicao,setAtracaoEdicao]=useState(null);const[formData,setFormData]=useState({nome:'',descricao:'',responsavel:'',telefone:'',email:''});const abrirFormulario=function(){let atracao=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(atracao){setFormData({nome:atracao.nome,descricao:atracao.descricao||'',responsavel:atracao.responsavel||'',telefone:atracao.telefone||'',email:atracao.email||''});setAtracaoEdicao(atracao);}else{setFormData({nome:'',descricao:'',responsavel:'',telefone:'',email:''});setAtracaoEdicao(null);}setModoEdicao(true);};const handleSubmit=async e=>{e.preventDefault();try{if(atracaoEdicao){await axios.put(\"\".concat(API_URL,\"/atracoes/\").concat(atracaoEdicao.id),formData);mostrarMensagem('AtraÃ§Ã£o atualizada com sucesso!');}else{await axios.post(\"\".concat(API_URL,\"/atracoes\"),formData);mostrarMensagem('AtraÃ§Ã£o criada com sucesso!');}carregarAtracoes();setModoEdicao(false);}catch(error){var _error$response4,_error$response4$data;mostrarMensagem(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||'Erro ao salvar atraÃ§Ã£o','erro');}};const desativarAtracao=async id=>{if(!window.confirm('Deseja realmente desativar esta atraÃ§Ã£o?'))return;try{await axios.delete(\"\".concat(API_URL,\"/atracoes/\").concat(id));mostrarMensagem('AtraÃ§Ã£o desativada com sucesso!');carregarAtracoes();}catch(error){mostrarMensagem('Erro ao desativar atraÃ§Ã£o','erro');}};if(modoEdicao){return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-atracoes\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:atracaoEdicao?'âœï¸ Editar AtraÃ§Ã£o':'âž• Nova AtraÃ§Ã£o'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModoEdicao(false),className:\"btn-secondary\",children:\"\\u274C Cancelar\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form-atracao\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nome da Atra\\xE7\\xE3o *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.nome,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{nome:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.descricao,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{descricao:e.target.value})),rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Respons\\xE1vel\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.responsavel,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{responsavel:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Telefone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:formData.telefone,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{telefone:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value}))})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:atracaoEdicao?'ðŸ’¾ Salvar AlteraÃ§Ãµes':'âž• Criar AtraÃ§Ã£o'})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-atracoes\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFDB\\uFE0F Atra\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>abrirFormulario(),className:\"btn-primary\",children:\"\\u2795 Nova Atra\\xE7\\xE3o\"})]}),atracoes.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCED Nenhuma atra\\xE7\\xE3o cadastrada\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"atracoes-grid\",children:atracoes.map(atracao=>/*#__PURE__*/_jsxs(\"div\",{className:\"atracao-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83C\\uDFDB\\uFE0F \",atracao.nome]}),atracao.descricao&&/*#__PURE__*/_jsx(\"p\",{className:\"atracao-descricao\",children:atracao.descricao}),atracao.responsavel&&/*#__PURE__*/_jsxs(\"p\",{className:\"atracao-info\",children:[\"\\uD83D\\uDC64 \",atracao.responsavel]}),atracao.telefone&&/*#__PURE__*/_jsxs(\"p\",{className:\"atracao-info\",children:[\"\\uD83D\\uDCF1 \",atracao.telefone]}),atracao.email&&/*#__PURE__*/_jsxs(\"p\",{className:\"atracao-info\",children:[\"\\uD83D\\uDCE7 \",atracao.email]}),/*#__PURE__*/_jsxs(\"div\",{className:\"atracao-acoes\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela(\"atracao-\".concat(atracao.id)),className:\"btn-primary\",children:\"\\uD83D\\uDCCA Ver Relat\\xF3rio\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>abrirFormulario(atracao),className:\"btn-secondary\",children:\"\\u270F\\uFE0F Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>desativarAtracao(atracao.id),className:\"btn-danger\",children:\"\\uD83D\\uDDD1\\uFE0F Desativar\"})]})]},atracao.id))})]});}// ==================== TELA PEDIDOS YAMPI ====================\nfunction TelaPedidosYampi(_ref5){let{mostrarMensagem}=_ref5;const[pedidos,setPedidos]=useState([]);const[loading,setLoading]=useState(false);const[sincronizando,setSincronizando]=useState(false);const[pedidoSelecionado,setPedidoSelecionado]=useState(null);useEffect(()=>{carregarPedidos();},[]);const carregarPedidos=async()=>{setLoading(true);try{const res=await axios.get(\"\".concat(API_URL,\"/yampi/pedidos\"));setPedidos(res.data.pedidos||[]);}catch(error){mostrarMensagem('Erro ao carregar pedidos','erro');}finally{setLoading(false);}};const sincronizar=async()=>{setSincronizando(true);try{const res=await axios.post(\"\".concat(API_URL,\"/yampi/sincronizar\"),{limit:50});if(res.data.sucesso){mostrarMensagem(\"\\u2705 Sincronizado! \".concat(res.data.novos,\" novos, \").concat(res.data.atualizados,\" atualizados\"));carregarPedidos();}else{mostrarMensagem('Erro na sincronizaÃ§Ã£o','erro');}}catch(error){var _error$response5,_error$response5$data;mostrarMensagem(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||'Erro ao sincronizar','erro');}finally{setSincronizando(false);}};const verDetalhes=async pedidoId=>{try{const res=await axios.get(\"\".concat(API_URL,\"/yampi/pedidos/\").concat(pedidoId));setPedidoSelecionado(res.data);}catch(error){mostrarMensagem('Erro ao carregar detalhes','erro');}};if(pedidoSelecionado){return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-pedidos-yampi\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\uD83D\\uDCE6 Detalhes do Pedido #\",pedidoSelecionado.pedido.numero_pedido]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPedidoSelecionado(null),className:\"btn-secondary\",children:\"\\u2190 Voltar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pedido-detalhes\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Informa\\xE7\\xF5es do Pedido\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cliente:\"}),\" \",pedidoSelecionado.pedido.cliente_nome]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",pedidoSelecionado.pedido.cliente_email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status Financeiro:\"}),\" \",pedidoSelecionado.pedido.status_financeiro]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status Entrega:\"}),\" \",pedidoSelecionado.pedido.status_entrega]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Valor Total:\"}),\" R$ \",pedidoSelecionado.pedido.valor_total.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data:\"}),\" \",new Date(pedidoSelecionado.pedido.data_pedido).toLocaleString('pt-BR')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"itens-pedido\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Itens do Pedido\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Produto\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SKU\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qtd\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pre\\xE7o Unit.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Classificado\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pedidoSelecionado.itens.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.produto_yampi_nome}),/*#__PURE__*/_jsx(\"td\",{children:item.sku}),/*#__PURE__*/_jsx(\"td\",{children:item.quantidade}),/*#__PURE__*/_jsxs(\"td\",{children:[\"R$ \",item.preco_unitario.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"R$ \",item.valor_total.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:item.classificado?'âœ…':'â³'})]},item.id))})]})]})]})]});}if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u23F3 Carregando...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-pedidos-yampi\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDED2 Pedidos Yampi\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sincronizar,disabled:sincronizando,className:\"btn-primary\",children:sincronizando?'â³ Sincronizando...':'ðŸ”„ Sincronizar Pedidos'})]}),pedidos.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCED Nenhum pedido sincronizado\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Clique em \\\"Sincronizar Pedidos\\\" para importar\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"N\\xFAmero\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cliente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Financeiro\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Entrega\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Valor\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data\"}),/*#__PURE__*/_jsx(\"th\",{children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pedidos.map(pedido=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\"#\",pedido.numero_pedido]}),/*#__PURE__*/_jsx(\"td\",{children:pedido.cliente_nome}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-\".concat(pedido.status_financeiro),children:pedido.status_financeiro})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-\".concat(pedido.status_entrega),children:pedido.status_entrega})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"R$ \",pedido.valor_total.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:new Date(pedido.data_pedido).toLocaleDateString('pt-BR')}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>verDetalhes(pedido.id),className:\"btn-secondary btn-small\",children:\"\\uD83D\\uDC41\\uFE0F Ver\"})})]},pedido.id))})]})})]});}// ==================== TELA CLASSIFICAÃ‡ÃƒO ====================\nfunction TelaClassificacao(_ref6){let{produtos,atracoes,mostrarMensagem}=_ref6;const[itensNaoClassificados,setItensNaoClassificados]=useState([]);const[loading,setLoading]=useState(true);const[classificacoes,setClassificacoes]=useState({});useEffect(()=>{carregarItens();},[]);const carregarItens=async()=>{setLoading(true);try{const res=await axios.get(\"\".concat(API_URL,\"/yampi/itens-nao-classificados\"));setItensNaoClassificados(res.data);// Inicializar classificaÃ§Ãµes vazias\nconst novasClassificacoes={};res.data.forEach(item=>{novasClassificacoes[item.id]={produto_id:'',atracao_id:''};});setClassificacoes(novasClassificacoes);}catch(error){mostrarMensagem('Erro ao carregar itens','erro');}finally{setLoading(false);}};const atualizarClassificacao=(itemId,campo,valor)=>{setClassificacoes(prev=>_objectSpread(_objectSpread({},prev),{},{[itemId]:_objectSpread(_objectSpread({},prev[itemId]),{},{[campo]:valor})}));};const salvarClassificacao=async itemId=>{const classificacao=classificacoes[itemId];if(!classificacao.produto_id||!classificacao.atracao_id){mostrarMensagem('Selecione produto e atraÃ§Ã£o','erro');return;}try{await axios.put(\"\".concat(API_URL,\"/yampi/itens/\").concat(itemId,\"/classificar\"),classificacao);mostrarMensagem('Item classificado com sucesso!');carregarItens();}catch(error){mostrarMensagem('Erro ao classificar item','erro');}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u23F3 Carregando...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-classificacao\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCB Classifica\\xE7\\xE3o de Itens\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contador-pendentes\",children:[itensNaoClassificados.length,\" itens pendentes\"]})]}),itensNaoClassificados.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u2705 Todos os itens est\\xE3o classificados!\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"classificacao-list\",children:itensNaoClassificados.map(item=>{var _classificacoes$item$,_classificacoes$item$2,_classificacoes$item$3,_classificacoes$item$4;return/*#__PURE__*/_jsxs(\"div\",{className:\"classificacao-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:item.produto_yampi_nome}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Pedido: #\",item.numero_pedido]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cliente: \",item.cliente_nome]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantidade: \",item.quantidade]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Valor: R$ \",item.valor_total.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"classificacao-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Produto Interno\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_classificacoes$item$=classificacoes[item.id])===null||_classificacoes$item$===void 0?void 0:_classificacoes$item$.produto_id)||'',onChange:e=>atualizarClassificacao(item.id,'produto_id',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione...\"}),produtos.map(produto=>/*#__PURE__*/_jsx(\"option\",{value:produto.id,children:produto.nome},produto.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Atra\\xE7\\xE3o\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_classificacoes$item$2=classificacoes[item.id])===null||_classificacoes$item$2===void 0?void 0:_classificacoes$item$2.atracao_id)||'',onChange:e=>atualizarClassificacao(item.id,'atracao_id',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione...\"}),atracoes.map(atracao=>/*#__PURE__*/_jsx(\"option\",{value:atracao.id,children:atracao.nome},atracao.id))]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>salvarClassificacao(item.id),className:\"btn-primary btn-small\",disabled:!((_classificacoes$item$3=classificacoes[item.id])!==null&&_classificacoes$item$3!==void 0&&_classificacoes$item$3.produto_id)||!((_classificacoes$item$4=classificacoes[item.id])!==null&&_classificacoes$item$4!==void 0&&_classificacoes$item$4.atracao_id),children:\"\\uD83D\\uDCBE Salvar\"})]})]},item.id);})})]});}// ==================== TELA RELATÃ“RIO ATRAÃ‡ÃƒO ====================\nfunction TelaRelatorioAtracao(_ref7){let{atracaoId,setTela,mostrarMensagem}=_ref7;const[relatorio,setRelatorio]=useState(null);const[loading,setLoading]=useState(true);const[dataInicio,setDataInicio]=useState('');const[dataFim,setDataFim]=useState('');useEffect(()=>{carregarRelatorio();},[atracaoId,dataInicio,dataFim]);const carregarRelatorio=async()=>{setLoading(true);try{const params=new URLSearchParams();if(dataInicio)params.append('dataInicio',dataInicio);if(dataFim)params.append('dataFim',dataFim);const res=await axios.get(\"\".concat(API_URL,\"/atracoes/\").concat(atracaoId,\"/relatorio?\").concat(params));setRelatorio(res.data);}catch(error){mostrarMensagem('Erro ao carregar relatÃ³rio','erro');}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u23F3 Carregando...\"});if(!relatorio)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-relatorio-atracao\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\uD83D\\uDCCA Relat\\xF3rio - \",relatorio.atracao.nome]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTela('atracoes'),className:\"btn-secondary\",children:\"\\u2190 Voltar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filtros-relatorio\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Data In\\xEDcio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dataInicio,onChange:e=>setDataInicio(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Data Fim\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dataFim,onChange:e=>setDataFim(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setDataInicio('');setDataFim('');},className:\"btn-secondary\",children:\"\\uD83D\\uDD04 Limpar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"resumo-financeiro\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"resumo-card faturamento\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCB0 Faturamento Total\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"valor-grande\",children:[\"R$ \",relatorio.resumo.faturamentoTotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"resumo-card comissao\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCBC Comiss\\xE3o (Plataforma)\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"valor-grande\",children:[\"R$ \",relatorio.resumo.comissaoTotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"resumo-card liquido\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCB5 Valor L\\xEDquido (Atra\\xE7\\xE3o)\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"valor-grande destaque\",children:[\"R$ \",relatorio.resumo.valorLiquido.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detalhes-vendas\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83D\\uDCCB Detalhamento das Vendas (\",relatorio.resumo.totalItens,\" itens)\"]}),relatorio.itens.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Nenhuma venda no per\\xEDodo selecionado\"}):/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Data\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pedido\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cliente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Produto\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qtd\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Faturamento\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Comiss\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"L\\xEDquido\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:relatorio.itens.map(item=>{let comissao=0;if(item.tipo_comissao&&item.valor_comissao){if(item.tipo_comissao==='percentual'){comissao=item.valor_total*item.valor_comissao/100;}else{comissao=item.valor_comissao*item.quantidade;}}const liquido=item.valor_total-comissao;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(item.data_pedido).toLocaleDateString('pt-BR')}),/*#__PURE__*/_jsxs(\"td\",{children:[\"#\",item.numero_pedido]}),/*#__PURE__*/_jsx(\"td\",{children:item.cliente_nome}),/*#__PURE__*/_jsx(\"td\",{children:item.produto_interno_nome||item.produto_yampi_nome}),/*#__PURE__*/_jsx(\"td\",{children:item.quantidade}),/*#__PURE__*/_jsxs(\"td\",{children:[\"R$ \",item.valor_total.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"R$ \",comissao.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"R$ \",liquido.toFixed(2)]})]},item.id);})})]})]})]});}// ==================== TELA OPERADORES ====================\nfunction TelaOperadores(_ref8){let{mostrarMensagem}=_ref8;const[operadores,setOperadores]=useState([]);const[modoEdicao,setModoEdicao]=useState(false);const[formData,setFormData]=useState({nome:'',username:'',password:'',permissao:'usuario'});useEffect(()=>{carregarOperadores();},[]);const carregarOperadores=async()=>{try{const res=await axios.get(\"\".concat(API_URL,\"/operadores\"));setOperadores(res.data);}catch(error){mostrarMensagem('Erro ao carregar operadores','erro');}};const handleSubmit=async e=>{e.preventDefault();try{await axios.post(\"\".concat(API_URL,\"/operadores\"),formData);mostrarMensagem('Operador criado com sucesso!');carregarOperadores();setModoEdicao(false);setFormData({nome:'',username:'',password:'',permissao:'usuario'});}catch(error){var _error$response6,_error$response6$data;mostrarMensagem(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.error)||'Erro ao criar operador','erro');}};const desativarOperador=async id=>{if(!window.confirm('Deseja realmente desativar este operador?'))return;try{await axios.delete(\"\".concat(API_URL,\"/operadores/\").concat(id));mostrarMensagem('Operador desativado com sucesso!');carregarOperadores();}catch(error){mostrarMensagem('Erro ao desativar operador','erro');}};if(modoEdicao){return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-operadores\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2795 Novo Operador\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModoEdicao(false),className:\"btn-secondary\",children:\"\\u274C Cancelar\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form-operador\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nome Completo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.nome,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{nome:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Usu\\xE1rio (Login) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.username,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{username:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Senha *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Permiss\\xE3o\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.permissao,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{permissao:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"usuario\",children:\"Usu\\xE1rio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Administrador\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"\\u2795 Criar Operador\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-operadores\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tela-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDC65 Operadores\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModoEdicao(true),className:\"btn-primary\",children:\"\\u2795 Novo Operador\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nome\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Usu\\xE1rio\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Permiss\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cadastro\"}),/*#__PURE__*/_jsx(\"th\",{children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:operadores.map(op=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:op.nome}),/*#__PURE__*/_jsx(\"td\",{children:op.username}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-\".concat(op.permissao),children:op.permissao==='admin'?'ðŸ‘‘ Admin':'ðŸ‘¤ UsuÃ¡rio'})}),/*#__PURE__*/_jsx(\"td\",{children:op.ativo?'âœ… Ativo':'âŒ Inativo'}),/*#__PURE__*/_jsx(\"td\",{children:new Date(op.created_at).toLocaleDateString('pt-BR')}),/*#__PURE__*/_jsx(\"td\",{children:op.ativo&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>desativarOperador(op.id),className:\"btn-danger btn-small\",children:\"\\uD83D\\uDDD1\\uFE0F Desativar\"})})]},op.id))})]})})]});}// ==================== TELA CONFIGURAÃ‡Ã•ES ====================\nfunction TelaConfiguracoes(_ref9){let{mostrarMensagem}=_ref9;const[configs,setConfigs]=useState([]);const[loading,setLoading]=useState(true);const[testando,setTestando]=useState(false);useEffect(()=>{carregarConfiguracoes();},[]);const carregarConfiguracoes=async()=>{try{const res=await axios.get(\"\".concat(API_URL,\"/configuracoes\"));setConfigs(res.data);}catch(error){mostrarMensagem('Erro ao carregar configuraÃ§Ãµes','erro');}finally{setLoading(false);}};const atualizarConfig=async(chave,valor)=>{try{await axios.put(\"\".concat(API_URL,\"/configuracoes/\").concat(chave),{valor});mostrarMensagem('ConfiguraÃ§Ã£o salva!');}catch(error){mostrarMensagem('Erro ao salvar configuraÃ§Ã£o','erro');}};const testarConexaoYampi=async()=>{setTestando(true);try{const res=await axios.post(\"\".concat(API_URL,\"/yampi/testar-conexao\"));if(res.data.sucesso){mostrarMensagem(\"\\u2705 \".concat(res.data.mensagem,\" - \").concat(res.data.dados.produtosEncontrados,\" produtos encontrados\"));}else{mostrarMensagem('âŒ Falha na conexÃ£o com Yampi','erro');}}catch(error){mostrarMensagem('Erro ao testar conexÃ£o','erro');}finally{setTestando(false);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u23F3 Carregando...\"});const configsEvoAPI=configs.filter(c=>c.chave.startsWith('evoapi_')||c.chave==='whatsapp_mensagem'||c.chave==='whatsapp_ativo');const configsYampi=configs.filter(c=>c.chave.startsWith('yampi_'));return/*#__PURE__*/_jsxs(\"div\",{className:\"tela-configuracoes\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2699\\uFE0F Configura\\xE7\\xF5es do Sistema\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"config-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCF1 Configura\\xE7\\xF5es EvoAPI (WhatsApp)\"}),configsEvoAPI.map(config=>/*#__PURE__*/_jsxs(\"div\",{className:\"config-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:config.descricao}),config.chave==='whatsapp_mensagem'?/*#__PURE__*/_jsx(\"textarea\",{defaultValue:config.valor,onBlur:e=>atualizarConfig(config.chave,e.target.value),rows:\"4\"}):config.chave==='whatsapp_ativo'?/*#__PURE__*/_jsxs(\"select\",{value:config.valor,onChange:e=>atualizarConfig(config.chave,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Ativado\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Desativado\"})]}):/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:config.valor,onBlur:e=>atualizarConfig(config.chave,e.target.value)})]},config.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"config-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDED2 Configura\\xE7\\xF5es Yampi\"}),configsYampi.map(config=>/*#__PURE__*/_jsxs(\"div\",{className:\"config-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:config.descricao}),config.chave==='yampi_sync_ativo'?/*#__PURE__*/_jsxs(\"select\",{value:config.valor,onChange:e=>atualizarConfig(config.chave,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Ativado\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Desativado\"})]}):/*#__PURE__*/_jsx(\"input\",{type:config.chave.includes('secret')||config.chave.includes('token')?'password':'text',defaultValue:config.valor,onBlur:e=>atualizarConfig(config.chave,e.target.value),placeholder:config.descricao})]},config.id)),/*#__PURE__*/_jsx(\"button\",{onClick:testarConexaoYampi,disabled:testando,className:\"btn-primary\",children:testando?'â³ Testando...':'ðŸ”Œ Testar ConexÃ£o Yampi'})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","App","token","setToken","localStorage","getItem","usuario","setUsuario","JSON","parse","tela","setTela","produtos","setProdutos","atracoes","setAtracoes","loading","setLoading","mensagem","setMensagem","defaults","headers","common","concat","carregarProdutos","permissao","carregarAtracoes","res","get","data","error","console","mostrarMensagem","texto","tipo","arguments","length","undefined","setTimeout","logout","removeItem","TelaLogin","className","children","nome","onClick","TelaNovaVenda","TelaHistorico","TelaRanking","TelaProdutos","TelaAtracoes","TelaPedidosYampi","TelaClassificacao","TelaOperadores","TelaConfiguracoes","startsWith","TelaRelatorioAtracao","atracaoId","split","_ref","username","setUsername","password","setPassword","handleLogin","e","preventDefault","post","setItem","stringify","operador","_error$response","_error$response$data","response","onSubmit","type","value","onChange","target","placeholder","required","autoFocus","disabled","_ref2","formData","setFormData","nome_cliente","telefone_cliente","produto_id","quantidade_pessoas","desconto","tipo_desconto","venda_online","produtoSelecionado","setProdutoSelecionado","codigoVenda","setCodigoVenda","buscarProximoCodigo","produto","find","p","id","parseInt","codigo","calcularValores","subtotal","desconto_valor","total","preco","parseFloat","handleSubmit","mensagemSucesso","codigo_venda","whatsapp","enviado","_error$response2","_error$response2$data","valores","_objectSpread","map","toFixed","min","step","checked","vendas","setVendas","carregarVendas","venda","produto_nome","valor_total","operador_nome","Date","created_at","toLocaleString","whatsapp_enviado","ranking","setRanking","periodo","setPeriodo","carregarRanking","index","total_vendas","ticket_medio","operador_id","_ref3","modoEdicao","setModoEdicao","produtoEdicao","setProdutoEdicao","descricao","atracao_id","tipo_comissao","valor_comissao","abrirFormulario","put","_error$response3","_error$response3$data","desativarProduto","window","confirm","delete","atracao","rows","atracao_nome","_ref4","atracaoEdicao","setAtracaoEdicao","responsavel","telefone","email","_error$response4","_error$response4$data","desativarAtracao","_ref5","pedidos","setPedidos","sincronizando","setSincronizando","pedidoSelecionado","setPedidoSelecionado","carregarPedidos","sincronizar","limit","sucesso","novos","atualizados","_error$response5","_error$response5$data","verDetalhes","pedidoId","pedido","numero_pedido","cliente_nome","cliente_email","status_financeiro","status_entrega","data_pedido","itens","item","produto_yampi_nome","sku","quantidade","preco_unitario","classificado","toLocaleDateString","_ref6","itensNaoClassificados","setItensNaoClassificados","classificacoes","setClassificacoes","carregarItens","novasClassificacoes","forEach","atualizarClassificacao","itemId","campo","valor","prev","salvarClassificacao","classificacao","_classificacoes$item$","_classificacoes$item$2","_classificacoes$item$3","_classificacoes$item$4","_ref7","relatorio","setRelatorio","dataInicio","setDataInicio","dataFim","setDataFim","carregarRelatorio","params","URLSearchParams","append","resumo","faturamentoTotal","comissaoTotal","valorLiquido","totalItens","comissao","liquido","produto_interno_nome","_ref8","operadores","setOperadores","carregarOperadores","_error$response6","_error$response6$data","desativarOperador","op","ativo","_ref9","configs","setConfigs","testando","setTestando","carregarConfiguracoes","atualizarConfig","chave","testarConexaoYampi","dados","produtosEncontrados","configsEvoAPI","filter","c","configsYampi","config","defaultValue","onBlur","includes"],"sources":["/root/pdv-visite-campos/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n\nfunction App() {\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [usuario, setUsuario] = useState(JSON.parse(localStorage.getItem('usuario') || 'null'));\n  const [tela, setTela] = useState('login');\n  \n  // Estados globais\n  const [produtos, setProdutos] = useState([]);\n  const [atracoes, setAtracoes] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [mensagem, setMensagem] = useState(null);\n\n  // Configurar axios\n  useEffect(() => {\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n  }, [token]);\n\n  // Carregar dados iniciais\n  useEffect(() => {\n    if (token) {\n      carregarProdutos();\n      if (usuario?.permissao === 'admin') {\n        carregarAtracoes();\n      }\n    }\n  }, [token]);\n\n  const carregarProdutos = async () => {\n    try {\n      const res = await axios.get(`${API_URL}/produtos`);\n      setProdutos(res.data);\n    } catch (error) {\n      console.error('Erro ao carregar produtos:', error);\n    }\n  };\n\n  const carregarAtracoes = async () => {\n    try {\n      const res = await axios.get(`${API_URL}/atracoes`);\n      setAtracoes(res.data);\n    } catch (error) {\n      console.error('Erro ao carregar atraÃ§Ãµes:', error);\n    }\n  };\n\n  const mostrarMensagem = (texto, tipo = 'sucesso') => {\n    setMensagem({ texto, tipo });\n    setTimeout(() => setMensagem(null), 5000);\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('usuario');\n    setToken(null);\n    setUsuario(null);\n    setTela('login');\n    delete axios.defaults.headers.common['Authorization'];\n  };\n\n  if (!token) {\n    return <TelaLogin setToken={setToken} setUsuario={setUsuario} setTela={setTela} mostrarMensagem={mostrarMensagem} />;\n  }\n\n  return (\n    <div className=\"App\">\n      <nav className=\"navbar\">\n        <div className=\"nav-brand\">\n          <h1>ðŸŽ« PDV Visite Campos</h1>\n          <span className=\"user-info\">ðŸ‘¤ {usuario?.nome} {usuario?.permissao === 'admin' && '(Admin)'}</span>\n        </div>\n        \n        <div className=\"nav-menu\">\n          <button onClick={() => setTela('nova-venda')} className={tela === 'nova-venda' ? 'active' : ''}>\n            ðŸŽŸï¸ Nova Venda\n          </button>\n          <button onClick={() => setTela('historico')} className={tela === 'historico' ? 'active' : ''}>\n            ðŸ“Š HistÃ³rico\n          </button>\n          <button onClick={() => setTela('ranking')} className={tela === 'ranking' ? 'active' : ''}>\n            ðŸ† Ranking\n          </button>\n          \n          {usuario?.permissao === 'admin' && (\n            <>\n              <button onClick={() => setTela('produtos')} className={tela === 'produtos' ? 'active' : ''}>\n                ðŸ“¦ Produtos\n              </button>\n              <button onClick={() => setTela('atracoes')} className={tela === 'atracoes' ? 'active' : ''}>\n                ðŸ›ï¸ AtraÃ§Ãµes\n              </button>\n              <button onClick={() => setTela('pedidos-yampi')} className={tela === 'pedidos-yampi' ? 'active' : ''}>\n                ðŸ›’ Pedidos Yampi\n              </button>\n              <button onClick={() => setTela('classificacao')} className={tela === 'classificacao' ? 'active' : ''}>\n                ðŸ“‹ ClassificaÃ§Ã£o\n              </button>\n              <button onClick={() => setTela('operadores')} className={tela === 'operadores' ? 'active' : ''}>\n                ðŸ‘¥ Operadores\n              </button>\n              <button onClick={() => setTela('configuracoes')} className={tela === 'configuracoes' ? 'active' : ''}>\n                âš™ï¸ ConfiguraÃ§Ãµes\n              </button>\n            </>\n          )}\n          \n          <button onClick={logout} className=\"btn-logout\">ðŸšª Sair</button>\n        </div>\n      </nav>\n\n      {mensagem && (\n        <div className={`mensagem ${mensagem.tipo}`}>\n          {mensagem.tipo === 'sucesso' ? 'âœ…' : 'âŒ'} {mensagem.texto}\n        </div>\n      )}\n\n      <div className=\"container\">\n        {tela === 'nova-venda' && (\n          <TelaNovaVenda \n            produtos={produtos} \n            usuario={usuario} \n            mostrarMensagem={mostrarMensagem}\n          />\n        )}\n        {tela === 'historico' && <TelaHistorico />}\n        {tela === 'ranking' && <TelaRanking />}\n        {tela === 'produtos' && (\n          <TelaProdutos \n            produtos={produtos} \n            atracoes={atracoes}\n            carregarProdutos={carregarProdutos} \n            mostrarMensagem={mostrarMensagem}\n          />\n        )}\n        {tela === 'atracoes' && (\n          <TelaAtracoes \n            atracoes={atracoes}\n            carregarAtracoes={carregarAtracoes}\n            mostrarMensagem={mostrarMensagem}\n            setTela={setTela}\n          />\n        )}\n        {tela === 'pedidos-yampi' && (\n          <TelaPedidosYampi mostrarMensagem={mostrarMensagem} />\n        )}\n        {tela === 'classificacao' && (\n          <TelaClassificacao \n            produtos={produtos}\n            atracoes={atracoes}\n            mostrarMensagem={mostrarMensagem}\n          />\n        )}\n        {tela === 'operadores' && (\n          <TelaOperadores mostrarMensagem={mostrarMensagem} />\n        )}\n        {tela === 'configuracoes' && (\n          <TelaConfiguracoes mostrarMensagem={mostrarMensagem} />\n        )}\n        {tela.startsWith('atracao-') && (\n          <TelaRelatorioAtracao \n            atracaoId={tela.split('-')[1]}\n            setTela={setTela}\n            mostrarMensagem={mostrarMensagem}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\n// ==================== TELA DE LOGIN ====================\nfunction TelaLogin({ setToken, setUsuario, setTela, mostrarMensagem }) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const res = await axios.post(`${API_URL}/login`, { username, password });\n      \n      localStorage.setItem('token', res.data.token);\n      localStorage.setItem('usuario', JSON.stringify(res.data.operador));\n      \n      setToken(res.data.token);\n      setUsuario(res.data.operador);\n      setTela('nova-venda');\n      \n      mostrarMensagem(`Bem-vindo, ${res.data.operador.nome}!`);\n    } catch (error) {\n      mostrarMensagem(error.response?.data?.error || 'Erro ao fazer login', 'erro');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-box\">\n        <h1>ðŸŽ« PDV Visite Campos</h1>\n        <h2>Sistema de Vendas</h2>\n        \n        <form onSubmit={handleLogin}>\n          <div className=\"form-group\">\n            <label>ðŸ‘¤ UsuÃ¡rio</label>\n            <input\n              type=\"text\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              placeholder=\"Digite seu usuÃ¡rio\"\n              required\n              autoFocus\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>ðŸ”’ Senha</label>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Digite sua senha\"\n              required\n            />\n          </div>\n\n          <button type=\"submit\" disabled={loading} className=\"btn-primary\">\n            {loading ? 'â³ Entrando...' : 'ðŸš€ Entrar'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n// ==================== TELA NOVA VENDA ====================\nfunction TelaNovaVenda({ produtos, usuario, mostrarMensagem }) {\n  const [formData, setFormData] = useState({\n    nome_cliente: '',\n    telefone_cliente: '',\n    produto_id: '',\n    quantidade_pessoas: 1,\n    desconto: 0,\n    tipo_desconto: 'valor',\n    venda_online: false\n  });\n\n  const [produtoSelecionado, setProdutoSelecionado] = useState(null);\n  const [codigoVenda, setCodigoVenda] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    buscarProximoCodigo();\n  }, []);\n\n  useEffect(() => {\n    if (formData.produto_id) {\n      const produto = produtos.find(p => p.id === parseInt(formData.produto_id));\n      setProdutoSelecionado(produto);\n    } else {\n      setProdutoSelecionado(null);\n    }\n  }, [formData.produto_id, produtos]);\n\n  const buscarProximoCodigo = async () => {\n    try {\n      const res = await axios.get(`${API_URL}/vendas/proximo-codigo`);\n      setCodigoVenda(res.data.codigo);\n    } catch (error) {\n      console.error('Erro ao buscar cÃ³digo:', error);\n    }\n  };\n\n  const calcularValores = () => {\n    if (!produtoSelecionado) return { subtotal: 0, desconto_valor: 0, total: 0 };\n\n    const subtotal = produtoSelecionado.preco * formData.quantidade_pessoas;\n    let desconto_valor = 0;\n\n    if (formData.desconto > 0) {\n      if (formData.tipo_desconto === 'percentual') {\n        desconto_valor = (subtotal * parseFloat(formData.desconto)) / 100;\n      } else {\n        desconto_valor = parseFloat(formData.desconto);\n      }\n    }\n\n    const total = subtotal - desconto_valor;\n    return { subtotal, desconto_valor, total };\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const res = await axios.post(`${API_URL}/vendas`, formData);\n      \n      let mensagemSucesso = `âœ… Venda #${res.data.codigo_venda} registrada com sucesso!`;\n      \n      if (formData.telefone_cliente && res.data.whatsapp) {\n        if (res.data.whatsapp.enviado) {\n          mensagemSucesso += ' ðŸ“± Ingresso enviado no WhatsApp!';\n        } else {\n          mensagemSucesso += ' âš ï¸ Erro ao enviar WhatsApp.';\n        }\n      }\n      \n      mostrarMensagem(mensagemSucesso);\n      \n      // Limpar formulÃ¡rio\n      setFormData({\n        nome_cliente: '',\n        telefone_cliente: '',\n        produto_id: '',\n        quantidade_pessoas: 1,\n        desconto: 0,\n        tipo_desconto: 'valor',\n        venda_online: false\n      });\n      setProdutoSelecionado(null);\n      buscarProximoCodigo();\n      \n    } catch (error) {\n      mostrarMensagem(error.response?.data?.error || 'Erro ao registrar venda', 'erro');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const valores = calcularValores();\n\n  return (\n    <div className=\"tela-nova-venda\">\n      <div className=\"tela-header\">\n        <h2>ðŸŽŸï¸ Nova Venda</h2>\n        <div className=\"codigo-venda\">CÃ³digo: #{codigoVenda}</div>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"form-venda\">\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>ðŸ‘¤ Nome do Cliente *</label>\n            <input\n              type=\"text\"\n              value={formData.nome_cliente}\n              onChange={(e) => setFormData({...formData, nome_cliente: e.target.value})}\n              placeholder=\"Digite o nome completo\"\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>ðŸ“± Telefone (WhatsApp)</label>\n            <input\n              type=\"tel\"\n              value={formData.telefone_cliente}\n              onChange={(e) => setFormData({...formData, telefone_cliente: e.target.value})}\n              placeholder=\"(00) 00000-0000\"\n            />\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>ðŸŽ« Produto *</label>\n            <select\n              value={formData.produto_id}\n              onChange={(e) => setFormData({...formData, produto_id: e.target.value})}\n              required\n            >\n              <option value=\"\">Selecione um produto</option>\n              {produtos.map(produto => (\n                <option key={produto.id} value={produto.id}>\n                  {produto.nome} - R$ {produto.preco.toFixed(2)}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label>ðŸ‘¥ Quantidade de Pessoas *</label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              value={formData.quantidade_pessoas}\n              onChange={(e) => setFormData({...formData, quantidade_pessoas: parseInt(e.target.value)})}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>ðŸ’° Desconto</label>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              min=\"0\"\n              value={formData.desconto}\n              onChange={(e) => setFormData({...formData, desconto: e.target.value})}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Tipo de Desconto</label>\n            <select\n              value={formData.tipo_desconto}\n              onChange={(e) => setFormData({...formData, tipo_desconto: e.target.value})}\n            >\n              <option value=\"valor\">Valor (R$)</option>\n              <option value=\"percentual\">Percentual (%)</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"checkbox-label\">\n            <input\n              type=\"checkbox\"\n              checked={formData.venda_online}\n              onChange={(e) => setFormData({...formData, venda_online: e.target.checked})}\n            />\n            ðŸŒ Venda Online\n          </label>\n        </div>\n\n        {produtoSelecionado && (\n          <div className=\"resumo-venda\">\n            <h3>ðŸ’µ Resumo da Venda</h3>\n            <div className=\"resumo-item\">\n              <span>Subtotal:</span>\n              <span>R$ {valores.subtotal.toFixed(2)}</span>\n            </div>\n            {valores.desconto_valor > 0 && (\n              <div className=\"resumo-item desconto\">\n                <span>Desconto:</span>\n                <span>- R$ {valores.desconto_valor.toFixed(2)}</span>\n              </div>\n            )}\n            <div className=\"resumo-item total\">\n              <span>TOTAL:</span>\n              <span>R$ {valores.total.toFixed(2)}</span>\n            </div>\n          </div>\n        )}\n\n        <button type=\"submit\" disabled={loading} className=\"btn-primary btn-large\">\n          {loading ? 'â³ Processando...' : 'âœ… Registrar Venda'}\n        </button>\n      </form>\n    </div>\n  );\n}\n\n// ==================== TELA HISTÃ“RICO ====================\nfunction TelaHistorico() {\n  const [vendas, setVendas] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    carregarVendas();\n  }, []);\n\n  const carregarVendas = async () => {\n    try {\n      const res = await axios.get(`${API_URL}/vendas`);\n      setVendas(res.data);\n    } catch (error) {\n      console.error('Erro ao carregar vendas:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) return <div className=\"loading\">â³ Carregando...</div>;\n\n  return (\n    <div className=\"tela-historico\">\n      <div className=\"tela-header\">\n        <h2>ðŸ“Š HistÃ³rico de Vendas</h2>\n        <button onClick={carregarVendas} className=\"btn-secondary\">ðŸ”„ Atualizar</button>\n      </div>\n\n      {vendas.length === 0 ? (\n        <div className=\"empty-state\">\n          <p>ðŸ“­ Nenhuma venda registrada ainda</p>\n        </div>\n      ) : (\n        <div className=\"table-container\">\n          <table>\n            <thead>\n              <tr>\n                <th>CÃ³digo</th>\n                <th>Cliente</th>\n                <th>Produto</th>\n                <th>Qtd</th>\n                <th>Valor</th>\n                <th>Vendedor</th>\n                <th>Data/Hora</th>\n                <th>WhatsApp</th>\n              </tr>\n            </thead>\n            <tbody>\n              {vendas.map(venda => (\n                <tr key={venda.id}>\n                  <td>#{venda.codigo_venda}</td>\n                  <td>{venda.nome_cliente}</td>\n                  <td>{venda.produto_nome}</td>\n                  <td>{venda.quantidade_pessoas}</td>\n                  <td>R$ {venda.valor_total.toFixed(2)}</td>\n                  <td>{venda.operador_nome}</td>\n                  <td>{new Date(venda.created_at).toLocaleString('pt-BR')}</td>\n                  <td>\n                    {venda.telefone_cliente ? (\n                      venda.whatsapp_enviado ? 'âœ…' : 'âŒ'\n                    ) : '-'}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ==================== TELA RANKING ====================\nfunction TelaRanking() {\n  const [ranking, setRanking] = useState([]);\n  const [periodo, setPeriodo] = useState('total');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    carregarRanking();\n  }, [periodo]);\n\n  const carregarRanking = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.get(`${API_URL}/vendas/estatisticas?periodo=${periodo}`);\n      setRanking(res.data);\n    } catch (error) {\n      console.error('Erro ao carregar ranking:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) return <div className=\"loading\">â³ Carregando...</div>;\n\n  return (\n    <div className=\"tela-ranking\">\n      <div className=\"tela-header\">\n        <h2>ðŸ† Ranking de Vendedores</h2>\n        <select value={periodo} onChange={(e) => setPeriodo(e.target.value)} className=\"select-periodo\">\n          <option value=\"hoje\">Hoje</option>\n          <option value=\"ontem\">Ontem</option>\n          <option value=\"ultimos7dias\">Ãšltimos 7 dias</option>\n          <option value=\"estemes\">Este mÃªs</option>\n          <option value=\"total\">Total</option>\n        </select>\n      </div>\n\n      {ranking.length === 0 ? (\n        <div className=\"empty-state\">\n          <p>ðŸ“­ Nenhuma venda no perÃ­odo selecionado</p>\n        </div>\n      ) : (\n        <div className=\"ranking-list\">\n          {ranking.map((operador, index) => (\n            <div key={operador.operador_id} className={`ranking-card posicao-${index + 1}`}>\n              <div className=\"ranking-posicao\">\n                {index === 0 && 'ðŸ¥‡'}\n                {index === 1 && 'ðŸ¥ˆ'}\n                {index === 2 && 'ðŸ¥‰'}\n                {index > 2 && `${index + 1}Âº`}\n              </div>\n              <div className=\"ranking-info\">\n                <h3>{operador.operador_nome}</h3>\n                <div className=\"ranking-stats\">\n                  <span>ðŸ“Š {operador.total_vendas} vendas</span>\n                  <span>ðŸ’° R$ {operador.valor_total.toFixed(2)}</span>\n                  <span>ðŸŽ¯ Ticket: R$ {operador.ticket_medio.toFixed(2)}</span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ==================== TELA PRODUTOS ====================\nfunction TelaProdutos({ produtos, atracoes, carregarProdutos, mostrarMensagem }) {\n  const [modoEdicao, setModoEdicao] = useState(false);\n  const [produtoEdicao, setProdutoEdicao] = useState(null);\n  const [formData, setFormData] = useState({\n    nome: '',\n    preco: '',\n    descricao: '',\n    atracao_id: '',\n    tipo_comissao: 'percentual',\n    valor_comissao: 0\n  });\n\n  const abrirFormulario = (produto = null) => {\n    if (produto) {\n      setFormData({\n        nome: produto.nome,\n        preco: produto.preco,\n        descricao: produto.descricao || '',\n        atracao_id: produto.atracao_id || '',\n        tipo_comissao: produto.tipo_comissao || 'percentual',\n        valor_comissao: produto.valor_comissao || 0\n      });\n      setProdutoEdicao(produto);\n    } else {\n      setFormData({\n        nome: '',\n        preco: '',\n        descricao: '',\n        atracao_id: '',\n        tipo_comissao: 'percentual',\n        valor_comissao: 0\n      });\n      setProdutoEdicao(null);\n    }\n    setModoEdicao(true);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      if (produtoEdicao) {\n        await axios.put(`${API_URL}/produtos/${produtoEdicao.id}`, formData);\n        mostrarMensagem('Produto atualizado com sucesso!');\n      } else {\n        await axios.post(`${API_URL}/produtos`, formData);\n        mostrarMensagem('Produto criado com sucesso!');\n      }\n      \n      carregarProdutos();\n      setModoEdicao(false);\n    } catch (error) {\n      mostrarMensagem(error.response?.data?.error || 'Erro ao salvar produto', 'erro');\n    }\n  };\n\n  const desativarProduto = async (id) => {\n    if (!window.confirm('Deseja realmente desativar este produto?')) return;\n\n    try {\n      await axios.delete(`${API_URL}/produtos/${id}`);\n      mostrarMensagem('Produto desativado com sucesso!');\n      carregarProdutos();\n    } catch (error) {\n      mostrarMensagem('Erro ao desativar produto', 'erro');\n    }\n  };\n\n  if (modoEdicao) {\n    return (\n      <div className=\"tela-produtos\">\n        <div className=\"tela-header\">\n          <h2>{produtoEdicao ? 'âœï¸ Editar Produto' : 'âž• Novo Produto'}</h2>\n          <button onClick={() => setModoEdicao(false)} className=\"btn-secondary\">âŒ Cancelar</button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"form-produto\">\n          <div className=\"form-group\">\n            <label>Nome do Produto *</label>\n            <input\n              type=\"text\"\n              value={formData.nome}\n              onChange={(e) => setFormData({...formData, nome: e.target.value})}\n              required\n            />\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>PreÃ§o *</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0\"\n                value={formData.preco}\n                onChange={(e) => setFormData({...formData, preco: e.target.value})}\n                required\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>AtraÃ§Ã£o Vinculada</label>\n              <select\n                value={formData.atracao_id}\n                onChange={(e) => setFormData({...formData, atracao_id: e.target.value})}\n              >\n                <option value=\"\">Nenhuma</option>\n                {atracoes.map(atracao => (\n                  <option key={atracao.id} value={atracao.id}>\n                    {atracao.nome}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {formData.atracao_id && (\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>Tipo de ComissÃ£o</label>\n                <select\n                  value={formData.tipo_comissao}\n                  onChange={(e) => setFormData({...formData, tipo_comissao: e.target.value})}\n                >\n                  <option value=\"percentual\">Percentual (%)</option>\n                  <option value=\"fixo\">Valor Fixo (R$)</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>\n                  Valor da ComissÃ£o {formData.tipo_comissao === 'percentual' ? '(%)' : '(R$)'}\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.valor_comissao}\n                  onChange={(e) => setFormData({...formData, valor_comissao: e.target.value})}\n                />\n              </div>\n            </div>\n          )}\n\n          <div className=\"form-group\">\n            <label>DescriÃ§Ã£o</label>\n            <textarea\n              value={formData.descricao}\n              onChange={(e) => setFormData({...formData, descricao: e.target.value})}\n              rows=\"3\"\n            />\n          </div>\n\n          <button type=\"submit\" className=\"btn-primary\">\n            {produtoEdicao ? 'ðŸ’¾ Salvar AlteraÃ§Ãµes' : 'âž• Criar Produto'}\n          </button>\n        </form>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"tela-produtos\">\n      <div className=\"tela-header\">\n        <h2>ðŸ“¦ Produtos</h2>\n        <button onClick={() => abrirFormulario()} className=\"btn-primary\">âž• Novo Produto</button>\n      </div>\n\n      {produtos.length === 0 ? (\n        <div className=\"empty-state\">\n          <p>ðŸ“­ Nenhum produto cadastrado</p>\n        </div>\n      ) : (\n        <div className=\"produtos-grid\">\n          {produtos.map(produto => (\n            <div key={produto.id} className=\"produto-card\">\n              <h3>{produto.nome}</h3>\n              <p className=\"produto-preco\">R$ {produto.preco.toFixed(2)}</p>\n              {produto.descricao && <p className=\"produto-descricao\">{produto.descricao}</p>}\n              {produto.atracao_nome && (\n                <div className=\"produto-atracao\">\n                  ðŸ›ï¸ {produto.atracao_nome}\n                  {produto.valor_comissao > 0 && (\n                    <span className=\"comissao-badge\">\n                      ðŸ’¼ {produto.tipo_comissao === 'percentual' \n                        ? `${produto.valor_comissao}%` \n                        : `R$ ${produto.valor_comissao}`}\n                    </span>\n                  )}\n                </div>\n              )}\n              <div className=\"produto-acoes\">\n                <button onClick={() => abrirFormulario(produto)} className=\"btn-secondary\">\n                  âœï¸ Editar\n                </button>\n                <button onClick={() => desativarProduto(produto.id)} className=\"btn-danger\">\n                  ðŸ—‘ï¸ Desativar\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ==================== TELA ATRAÃ‡Ã•ES ====================\nfunction TelaAtracoes({ atracoes, carregarAtracoes, mostrarMensagem, setTela }) {\n  const [modoEdicao, setModoEdicao] = useState(false);\n  const [atracaoEdicao, setAtracaoEdicao] = useState(null);\n  const [formData, setFormData] = useState({\n    nome: '',\n    descricao: '',\n    responsavel: '',\n    telefone: '',\n    email: ''\n  });\n\n  const abrirFormulario = (atracao = null) => {\n    if (atracao) {\n      setFormData({\n        nome: atracao.nome,\n        descricao: atracao.descricao || '',\n        responsavel: atracao.responsavel || '',\n        telefone: atracao.telefone || '',\n        email: atracao.email || ''\n      });\n      setAtracaoEdicao(atracao);\n    } else {\n      setFormData({\n        nome: '',\n        descricao: '',\n        responsavel: '',\n        telefone: '',\n        email: ''\n      });\n      setAtracaoEdicao(null);\n    }\n    setModoEdicao(true);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      if (atracaoEdicao) {\n        await axios.put(`${API_URL}/atracoes/${atracaoEdicao.id}`, formData);\n        mostrarMensagem('AtraÃ§Ã£o atualizada com sucesso!');\n      } else {\n        await axios.post(`${API_URL}/atracoes`, formData);\n        mostrarMensagem('AtraÃ§Ã£o criada com sucesso!');\n      }\n      \n      carregarAtracoes();\n      setModoEdicao(false);\n    } catch (error) {\n      mostrarMensagem(error.response?.data?.error || 'Erro ao salvar atraÃ§Ã£o', 'erro');\n    }\n  };\n\n  const desativarAtracao = async (id) => {\n    if (!window.confirm('Deseja realmente desativar esta atraÃ§Ã£o?')) return;\n\n    try {\n      await axios.delete(`${API_URL}/atracoes/${id}`);\n      mostrarMensagem('AtraÃ§Ã£o desativada com sucesso!');\n      carregarAtracoes();\n    } catch (error) {\n      mostrarMensagem('Erro ao desativar atraÃ§Ã£o', 'erro');\n    }\n  };\n\n  if (modoEdicao) {\n    return (\n      <div className=\"tela-atracoes\">\n        <div className=\"tela-header\">\n          <h2>{atracaoEdicao ? 'âœï¸ Editar AtraÃ§Ã£o' : 'âž• Nova AtraÃ§Ã£o'}</h2>\n          <button onClick={() => setModoEdicao(false)} className=\"btn-secondary\">âŒ Cancelar</button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"form-atracao\">\n          <div className=\"form-group\">\n            <label>Nome da AtraÃ§Ã£o *</label>\n            <input\n              type=\"text\"\n              value={formData.nome}\n              onChange={(e) => setFormData({...formData, nome: e.target.value})}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>DescriÃ§Ã£o</label>\n            <textarea\n              value={formData.descricao}\n              onChange={(e) => setFormData({...formData, descricao: e.target.value})}\n              rows=\"3\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>ResponsÃ¡vel</label>\n            <input\n              type=\"text\"\n              value={formData.responsavel}\n              onChange={(e) => setFormData({...formData, responsavel: e.target.value})}\n            />\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Telefone</label>\n              <input\n                type=\"tel\"\n                value={formData.telefone}\n                onChange={(e) => setFormData({...formData, telefone: e.target.value})}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Email</label>\n              <input\n                type=\"email\"\n                value={formData.email}\n                onChange={(e) => setFormData({...formData, email: e.target.value})}\n              />\n            </div>\n          </div>\n\n          <button type=\"submit\" className=\"btn-primary\">\n            {atracaoEdicao ? 'ðŸ’¾ Salvar AlteraÃ§Ãµes' : 'âž• Criar AtraÃ§Ã£o'}\n          </button>\n        </form>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"tela-atracoes\">\n      <div className=\"tela-header\">\n        <h2>ðŸ›ï¸ AtraÃ§Ãµes</h2>\n        <button onClick={() => abrirFormulario()} className=\"btn-primary\">âž• Nova AtraÃ§Ã£o</button>\n      </div>\n\n      {atracoes.length === 0 ? (\n        <div className=\"empty-state\">\n          <p>ðŸ“­ Nenhuma atraÃ§Ã£o cadastrada</p>\n        </div>\n      ) : (\n        <div className=\"atracoes-grid\">\n          {atracoes.map(atracao => (\n            <div key={atracao.id} className=\"atracao-card\">\n              <h3>ðŸ›ï¸ {atracao.nome}</h3>\n              {atracao.descricao && <p className=\"atracao-descricao\">{atracao.descricao}</p>}\n              \n              {atracao.responsavel && (\n                <p className=\"atracao-info\">ðŸ‘¤ {atracao.responsavel}</p>\n              )}\n              {atracao.telefone && (\n                <p className=\"atracao-info\">ðŸ“± {atracao.telefone}</p>\n              )}\n              {atracao.email && (\n                <p className=\"atracao-info\">ðŸ“§ {atracao.email}</p>\n              )}\n\n              <div className=\"atracao-acoes\">\n                <button \n                  onClick={() => setTela(`atracao-${atracao.id}`)} \n                  className=\"btn-primary\"\n                >\n                  ðŸ“Š Ver RelatÃ³rio\n                </button>\n                <button onClick={() => abrirFormulario(atracao)} className=\"btn-secondary\">\n                  âœï¸ Editar\n                </button>\n                <button onClick={() => desativarAtracao(atracao.id)} className=\"btn-danger\">\n                  ðŸ—‘ï¸ Desativar\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ==================== TELA PEDIDOS YAMPI ====================\nfunction TelaPedidosYampi({ mostrarMensagem }) {\n  const [pedidos, setPedidos] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [sincronizando, setSincronizando] = useState(false);\n  const [pedidoSelecionado, setPedidoSelecionado] = useState(null);\n\n  useEffect(() => {\n    carregarPedidos();\n  }, []);\n\n  const carregarPedidos = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.get(`${API_URL}/yampi/pedidos`);\n      setPedidos(res.data.pedidos || []);\n    } catch (error) {\n      mostrarMensagem('Erro ao carregar pedidos', 'erro');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const sincronizar = async () => {\n    setSincronizando(true);\n    try {\n      const res = await axios.post(`${API_URL}/yampi/sincronizar`, {\n        limit: 50\n      });\n      \n      if (res.data.sucesso) {\n        mostrarMensagem(\n          `âœ… Sincronizado! ${res.data.novos} novos, ${res.data.atualizados} atualizados`\n        );\n        carregarPedidos();\n      } else {\n        mostrarMensagem('Erro na sincronizaÃ§Ã£o', 'erro');\n      }\n    } catch (error) {\n      mostrarMensagem(error.response?.data?.error || 'Erro ao sincronizar', 'erro');\n    } finally {\n      setSincronizando(false);\n    }\n  };\n\n  const verDetalhes = async (pedidoId) => {\n    try {\n      const res = await axios.get(`${API_URL}/yampi/pedidos/${pedidoId}`);\n      setPedidoSelecionado(res.data);\n    } catch (error) {\n      mostrarMensagem('Erro ao carregar detalhes', 'erro');\n    }\n  };\n\n  if (pedidoSelecionado) {\n    return (\n      <div className=\"tela-pedidos-yampi\">\n        <div className=\"tela-header\">\n          <h2>ðŸ“¦ Detalhes do Pedido #{pedidoSelecionado.pedido.numero_pedido}</h2>\n          <button onClick={() => setPedidoSelecionado(null)} className=\"btn-secondary\">\n            â† Voltar\n          </button>\n        </div>\n\n        <div className=\"pedido-detalhes\">\n          <div className=\"info-card\">\n            <h3>InformaÃ§Ãµes do Pedido</h3>\n            <p><strong>Cliente:</strong> {pedidoSelecionado.pedido.cliente_nome}</p>\n            <p><strong>Email:</strong> {pedidoSelecionado.pedido.cliente_email}</p>\n            <p><strong>Status Financeiro:</strong> {pedidoSelecionado.pedido.status_financeiro}</p>\n            <p><strong>Status Entrega:</strong> {pedidoSelecionado.pedido.status_entrega}</p>\n            <p><strong>Valor Total:</strong> R$ {pedidoSelecionado.pedido.valor_total.toFixed(2)}</p>\n            <p><strong>Data:</strong> {new Date(pedidoSelecionado.pedido.data_pedido).toLocaleString('pt-BR')}</p>\n          </div>\n\n          <div className=\"itens-pedido\">\n            <h3>Itens do Pedido</h3>\n            <table>\n              <thead>\n                <tr>\n                  <th>Produto</th>\n                  <th>SKU</th>\n                  <th>Qtd</th>\n                  <th>PreÃ§o Unit.</th>\n                  <th>Total</th>\n                  <th>Classificado</th>\n                </tr>\n              </thead>\n              <tbody>\n                {pedidoSelecionado.itens.map(item => (\n                  <tr key={item.id}>\n                    <td>{item.produto_yampi_nome}</td>\n                    <td>{item.sku}</td>\n                    <td>{item.quantidade}</td>\n                    <td>R$ {item.preco_unitario.toFixed(2)}</td>\n                    <td>R$ {item.valor_total.toFixed(2)}</td>\n                    <td>{item.classificado ? 'âœ…' : 'â³'}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) return <div className=\"loading\">â³ Carregando...</div>;\n\n  return (\n    <div className=\"tela-pedidos-yampi\">\n      <div className=\"tela-header\">\n        <h2>ðŸ›’ Pedidos Yampi</h2>\n        <button \n          onClick={sincronizar} \n          disabled={sincronizando}\n          className=\"btn-primary\"\n        >\n          {sincronizando ? 'â³ Sincronizando...' : 'ðŸ”„ Sincronizar Pedidos'}\n        </button>\n      </div>\n\n      {pedidos.length === 0 ? (\n        <div className=\"empty-state\">\n          <p>ðŸ“­ Nenhum pedido sincronizado</p>\n          <p>Clique em \"Sincronizar Pedidos\" para importar</p>\n        </div>\n      ) : (\n        <div className=\"table-container\">\n          <table>\n            <thead>\n              <tr>\n                <th>NÃºmero</th>\n                <th>Cliente</th>\n                <th>Status Financeiro</th>\n                <th>Status Entrega</th>\n                <th>Valor</th>\n                <th>Data</th>\n                <th>AÃ§Ãµes</th>\n              </tr>\n            </thead>\n            <tbody>\n              {pedidos.map(pedido => (\n                <tr key={pedido.id}>\n                  <td>#{pedido.numero_pedido}</td>\n                  <td>{pedido.cliente_nome}</td>\n                  <td>\n                    <span className={`badge badge-${pedido.status_financeiro}`}>\n                      {pedido.status_financeiro}\n                    </span>\n                  </td>\n                  <td>\n                    <span className={`badge badge-${pedido.status_entrega}`}>\n                      {pedido.status_entrega}\n                    </span>\n                  </td>\n                  <td>R$ {pedido.valor_total.toFixed(2)}</td>\n                  <td>{new Date(pedido.data_pedido).toLocaleDateString('pt-BR')}</td>\n                  <td>\n                    <button \n                      onClick={() => verDetalhes(pedido.id)}\n                      className=\"btn-secondary btn-small\"\n                    >\n                      ðŸ‘ï¸ Ver\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ==================== TELA CLASSIFICAÃ‡ÃƒO ====================\nfunction TelaClassificacao({ produtos, atracoes, mostrarMensagem }) {\n  const [itensNaoClassificados, setItensNaoClassificados] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [classificacoes, setClassificacoes] = useState({});\n\n  useEffect(() => {\n    carregarItens();\n  }, []);\n\n  const carregarItens = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.get(`${API_URL}/yampi/itens-nao-classificados`);\n      setItensNaoClassificados(res.data);\n      \n      // Inicializar classificaÃ§Ãµes vazias\n      const novasClassificacoes = {};\n      res.data.forEach(item => {\n        novasClassificacoes[item.id] = { produto_id: '', atracao_id: '' };\n      });\n      setClassificacoes(novasClassificacoes);\n    } catch (error) {\n      mostrarMensagem('Erro ao carregar itens', 'erro');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const atualizarClassificacao = (itemId, campo, valor) => {\n    setClassificacoes(prev => ({\n      ...prev,\n      [itemId]: {\n        ...prev[itemId],\n        [campo]: valor\n      }\n    }));\n  };\n\n  const salvarClassificacao = async (itemId) => {\n    const classificacao = classificacoes[itemId];\n\n    if (!classificacao.produto_id || !classificacao.atracao_id) {\n      mostrarMensagem('Selecione produto e atraÃ§Ã£o', 'erro');\n      return;\n    }\n\n    try {\n      await axios.put(`${API_URL}/yampi/itens/${itemId}/classificar`, classificacao);\n      mostrarMensagem('Item classificado com sucesso!');\n      carregarItens();\n    } catch (error) {\n      mostrarMensagem('Erro ao classificar item', 'erro');\n    }\n  };\n\n  if (loading) return <div className=\"loading\">â³ Carregando...</div>;\n\n  return (\n    <div className=\"tela-classificacao\">\n      <div className=\"tela-header\">\n        <h2>ðŸ“‹ ClassificaÃ§Ã£o de Itens</h2>\n        <div className=\"contador-pendentes\">\n          {itensNaoClassificados.length} itens pendentes\n        </div>\n      </div>\n\n      {itensNaoClassificados.length === 0 ? (\n        <div className=\"empty-state\">\n          <p>âœ… Todos os itens estÃ£o classificados!</p>\n        </div>\n      ) : (\n        <div className=\"classificacao-list\">\n          {itensNaoClassificados.map(item => (\n            <div key={item.id} className=\"classificacao-card\">\n              <div className=\"item-info\">\n                <h4>{item.produto_yampi_nome}</h4>\n                <p>Pedido: #{item.numero_pedido}</p>\n                <p>Cliente: {item.cliente_nome}</p>\n                <p>Quantidade: {item.quantidade}</p>\n                <p>Valor: R$ {item.valor_total.toFixed(2)}</p>\n              </div>\n\n              <div className=\"classificacao-form\">\n                <div className=\"form-group\">\n                  <label>Produto Interno</label>\n                  <select\n                    value={classificacoes[item.id]?.produto_id || ''}\n                    onChange={(e) => atualizarClassificacao(item.id, 'produto_id', e.target.value)}\n                  >\n                    <option value=\"\">Selecione...</option>\n                    {produtos.map(produto => (\n                      <option key={produto.id} value={produto.id}>\n                        {produto.nome}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label>AtraÃ§Ã£o</label>\n                  <select\n                    value={classificacoes[item.id]?.atracao_id || ''}\n                    onChange={(e) => atualizarClassificacao(item.id, 'atracao_id', e.target.value)}\n                  >\n                    <option value=\"\">Selecione...</option>\n                    {atracoes.map(atracao => (\n                      <option key={atracao.id} value={atracao.id}>\n                        {atracao.nome}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <button \n                  onClick={() => salvarClassificacao(item.id)}\n                  className=\"btn-primary btn-small\"\n                  disabled={!classificacoes[item.id]?.produto_id || !classificacoes[item.id]?.atracao_id}\n                >\n                  ðŸ’¾ Salvar\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ==================== TELA RELATÃ“RIO ATRAÃ‡ÃƒO ====================\nfunction TelaRelatorioAtracao({ atracaoId, setTela, mostrarMensagem }) {\n  const [relatorio, setRelatorio] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [dataInicio, setDataInicio] = useState('');\n  const [dataFim, setDataFim] = useState('');\n\n  useEffect(() => {\n    carregarRelatorio();\n  }, [atracaoId, dataInicio, dataFim]);\n\n  const carregarRelatorio = async () => {\n    setLoading(true);\n    try {\n      const params = new URLSearchParams();\n      if (dataInicio) params.append('dataInicio', dataInicio);\n      if (dataFim) params.append('dataFim', dataFim);\n\n      const res = await axios.get(`${API_URL}/atracoes/${atracaoId}/relatorio?${params}`);\n      setRelatorio(res.data);\n    } catch (error) {\n      mostrarMensagem('Erro ao carregar relatÃ³rio', 'erro');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) return <div className=\"loading\">â³ Carregando...</div>;\n  if (!relatorio) return null;\n\n  return (\n    <div className=\"tela-relatorio-atracao\">\n      <div className=\"tela-header\">\n        <h2>ðŸ“Š RelatÃ³rio - {relatorio.atracao.nome}</h2>\n        <button onClick={() => setTela('atracoes')} className=\"btn-secondary\">\n          â† Voltar\n        </button>\n      </div>\n\n      <div className=\"filtros-relatorio\">\n        <div className=\"form-group\">\n          <label>Data InÃ­cio</label>\n          <input\n            type=\"date\"\n            value={dataInicio}\n            onChange={(e) => setDataInicio(e.target.value)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Data Fim</label>\n          <input\n            type=\"date\"\n            value={dataFim}\n            onChange={(e) => setDataFim(e.target.value)}\n          />\n        </div>\n        <button onClick={() => { setDataInicio(''); setDataFim(''); }} className=\"btn-secondary\">\n          ðŸ”„ Limpar\n        </button>\n      </div>\n\n      <div className=\"resumo-financeiro\">\n        <div className=\"resumo-card faturamento\">\n          <h3>ðŸ’° Faturamento Total</h3>\n          <p className=\"valor-grande\">R$ {relatorio.resumo.faturamentoTotal.toFixed(2)}</p>\n        </div>\n        <div className=\"resumo-card comissao\">\n          <h3>ðŸ’¼ ComissÃ£o (Plataforma)</h3>\n          <p className=\"valor-grande\">R$ {relatorio.resumo.comissaoTotal.toFixed(2)}</p>\n        </div>\n        <div className=\"resumo-card liquido\">\n          <h3>ðŸ’µ Valor LÃ­quido (AtraÃ§Ã£o)</h3>\n          <p className=\"valor-grande destaque\">R$ {relatorio.resumo.valorLiquido.toFixed(2)}</p>\n        </div>\n      </div>\n\n      <div className=\"detalhes-vendas\">\n        <h3>ðŸ“‹ Detalhamento das Vendas ({relatorio.resumo.totalItens} itens)</h3>\n        \n        {relatorio.itens.length === 0 ? (\n          <p>Nenhuma venda no perÃ­odo selecionado</p>\n        ) : (\n          <table>\n            <thead>\n              <tr>\n                <th>Data</th>\n                <th>Pedido</th>\n                <th>Cliente</th>\n                <th>Produto</th>\n                <th>Qtd</th>\n                <th>Faturamento</th>\n                <th>ComissÃ£o</th>\n                <th>LÃ­quido</th>\n              </tr>\n            </thead>\n            <tbody>\n              {relatorio.itens.map(item => {\n                let comissao = 0;\n                if (item.tipo_comissao && item.valor_comissao) {\n                  if (item.tipo_comissao === 'percentual') {\n                    comissao = (item.valor_total * item.valor_comissao) / 100;\n                  } else {\n                    comissao = item.valor_comissao * item.quantidade;\n                  }\n                }\n                const liquido = item.valor_total - comissao;\n\n                return (\n                  <tr key={item.id}>\n                    <td>{new Date(item.data_pedido).toLocaleDateString('pt-BR')}</td>\n                    <td>#{item.numero_pedido}</td>\n                    <td>{item.cliente_nome}</td>\n                    <td>{item.produto_interno_nome || item.produto_yampi_nome}</td>\n                    <td>{item.quantidade}</td>\n                    <td>R$ {item.valor_total.toFixed(2)}</td>\n                    <td>R$ {comissao.toFixed(2)}</td>\n                    <td>R$ {liquido.toFixed(2)}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// ==================== TELA OPERADORES ====================\nfunction TelaOperadores({ mostrarMensagem }) {\n  const [operadores, setOperadores] = useState([]);\n  const [modoEdicao, setModoEdicao] = useState(false);\n  const [formData, setFormData] = useState({\n    nome: '',\n    username: '',\n    password: '',\n    permissao: 'usuario'\n  });\n\n  useEffect(() => {\n    carregarOperadores();\n  }, []);\n\n  const carregarOperadores = async () => {\n    try {\n      const res = await axios.get(`${API_URL}/operadores`);\n      setOperadores(res.data);\n    } catch (error) {\n      mostrarMensagem('Erro ao carregar operadores', 'erro');\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      await axios.post(`${API_URL}/operadores`, formData);\n      mostrarMensagem('Operador criado com sucesso!');\n      carregarOperadores();\n      setModoEdicao(false);\n      setFormData({ nome: '', username: '', password: '', permissao: 'usuario' });\n    } catch (error) {\n      mostrarMensagem(error.response?.data?.error || 'Erro ao criar operador', 'erro');\n    }\n  };\n\n  const desativarOperador = async (id) => {\n    if (!window.confirm('Deseja realmente desativar este operador?')) return;\n\n    try {\n      await axios.delete(`${API_URL}/operadores/${id}`);\n      mostrarMensagem('Operador desativado com sucesso!');\n      carregarOperadores();\n    } catch (error) {\n      mostrarMensagem('Erro ao desativar operador', 'erro');\n    }\n  };\n\n  if (modoEdicao) {\n    return (\n      <div className=\"tela-operadores\">\n        <div className=\"tela-header\">\n          <h2>âž• Novo Operador</h2>\n          <button onClick={() => setModoEdicao(false)} className=\"btn-secondary\">âŒ Cancelar</button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"form-operador\">\n          <div className=\"form-group\">\n            <label>Nome Completo *</label>\n            <input\n              type=\"text\"\n              value={formData.nome}\n              onChange={(e) => setFormData({...formData, nome: e.target.value})}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>UsuÃ¡rio (Login) *</label>\n            <input\n              type=\"text\"\n              value={formData.username}\n              onChange={(e) => setFormData({...formData, username: e.target.value})}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Senha *</label>\n            <input\n              type=\"password\"\n              value={formData.password}\n              onChange={(e) => setFormData({...formData, password: e.target.value})}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>PermissÃ£o</label>\n            <select\n              value={formData.permissao}\n              onChange={(e) => setFormData({...formData, permissao: e.target.value})}\n            >\n              <option value=\"usuario\">UsuÃ¡rio</option>\n              <option value=\"admin\">Administrador</option>\n            </select>\n          </div>\n\n          <button type=\"submit\" className=\"btn-primary\">âž• Criar Operador</button>\n        </form>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"tela-operadores\">\n      <div className=\"tela-header\">\n        <h2>ðŸ‘¥ Operadores</h2>\n        <button onClick={() => setModoEdicao(true)} className=\"btn-primary\">âž• Novo Operador</button>\n      </div>\n\n      <div className=\"table-container\">\n        <table>\n          <thead>\n            <tr>\n              <th>Nome</th>\n              <th>UsuÃ¡rio</th>\n              <th>PermissÃ£o</th>\n              <th>Status</th>\n              <th>Cadastro</th>\n              <th>AÃ§Ãµes</th>\n            </tr>\n          </thead>\n          <tbody>\n            {operadores.map(op => (\n              <tr key={op.id}>\n                <td>{op.nome}</td>\n                <td>{op.username}</td>\n                <td>\n                  <span className={`badge badge-${op.permissao}`}>\n                    {op.permissao === 'admin' ? 'ðŸ‘‘ Admin' : 'ðŸ‘¤ UsuÃ¡rio'}\n                  </span>\n                </td>\n                <td>{op.ativo ? 'âœ… Ativo' : 'âŒ Inativo'}</td>\n                <td>{new Date(op.created_at).toLocaleDateString('pt-BR')}</td>\n                <td>\n                  {op.ativo && (\n                    <button \n                      onClick={() => desativarOperador(op.id)}\n                      className=\"btn-danger btn-small\"\n                    >\n                      ðŸ—‘ï¸ Desativar\n                    </button>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\n// ==================== TELA CONFIGURAÃ‡Ã•ES ====================\nfunction TelaConfiguracoes({ mostrarMensagem }) {\n  const [configs, setConfigs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [testando, setTestando] = useState(false);\n\n  useEffect(() => {\n    carregarConfiguracoes();\n  }, []);\n\n  const carregarConfiguracoes = async () => {\n    try {\n      const res = await axios.get(`${API_URL}/configuracoes`);\n      setConfigs(res.data);\n    } catch (error) {\n      mostrarMensagem('Erro ao carregar configuraÃ§Ãµes', 'erro');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const atualizarConfig = async (chave, valor) => {\n    try {\n      await axios.put(`${API_URL}/configuracoes/${chave}`, { valor });\n      mostrarMensagem('ConfiguraÃ§Ã£o salva!');\n    } catch (error) {\n      mostrarMensagem('Erro ao salvar configuraÃ§Ã£o', 'erro');\n    }\n  };\n\n  const testarConexaoYampi = async () => {\n    setTestando(true);\n    try {\n      const res = await axios.post(`${API_URL}/yampi/testar-conexao`);\n      \n      if (res.data.sucesso) {\n        mostrarMensagem(`âœ… ${res.data.mensagem} - ${res.data.dados.produtosEncontrados} produtos encontrados`);\n      } else {\n        mostrarMensagem('âŒ Falha na conexÃ£o com Yampi', 'erro');\n      }\n    } catch (error) {\n      mostrarMensagem('Erro ao testar conexÃ£o', 'erro');\n    } finally {\n      setTestando(false);\n    }\n  };\n\n  if (loading) return <div className=\"loading\">â³ Carregando...</div>;\n\n  const configsEvoAPI = configs.filter(c => c.chave.startsWith('evoapi_') || c.chave === 'whatsapp_mensagem' || c.chave === 'whatsapp_ativo');\n  const configsYampi = configs.filter(c => c.chave.startsWith('yampi_'));\n\n  return (\n    <div className=\"tela-configuracoes\">\n      <h2>âš™ï¸ ConfiguraÃ§Ãµes do Sistema</h2>\n\n      <div className=\"config-section\">\n        <h3>ðŸ“± ConfiguraÃ§Ãµes EvoAPI (WhatsApp)</h3>\n        {configsEvoAPI.map(config => (\n          <div key={config.id} className=\"config-item\">\n            <label>{config.descricao}</label>\n            {config.chave === 'whatsapp_mensagem' ? (\n              <textarea\n                defaultValue={config.valor}\n                onBlur={(e) => atualizarConfig(config.chave, e.target.value)}\n                rows=\"4\"\n              />\n            ) : config.chave === 'whatsapp_ativo' ? (\n              <select\n                value={config.valor}\n                onChange={(e) => atualizarConfig(config.chave, e.target.value)}\n              >\n                <option value=\"1\">Ativado</option>\n                <option value=\"0\">Desativado</option>\n              </select>\n            ) : (\n              <input\n                type=\"text\"\n                defaultValue={config.valor}\n                onBlur={(e) => atualizarConfig(config.chave, e.target.value)}\n              />\n            )}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"config-section\">\n        <h3>ðŸ›’ ConfiguraÃ§Ãµes Yampi</h3>\n        {configsYampi.map(config => (\n          <div key={config.id} className=\"config-item\">\n            <label>{config.descricao}</label>\n            {config.chave === 'yampi_sync_ativo' ? (\n              <select\n                value={config.valor}\n                onChange={(e) => atualizarConfig(config.chave, e.target.value)}\n              >\n                <option value=\"1\">Ativado</option>\n                <option value=\"0\">Desativado</option>\n              </select>\n            ) : (\n              <input\n                type={config.chave.includes('secret') || config.chave.includes('token') ? 'password' : 'text'}\n                defaultValue={config.valor}\n                onBlur={(e) => atualizarConfig(config.chave, e.target.value)}\n                placeholder={config.descricao}\n              />\n            )}\n          </div>\n        ))}\n        \n        <button \n          onClick={testarConexaoYampi}\n          disabled={testando}\n          className=\"btn-primary\"\n        >\n          {testando ? 'â³ Testando...' : 'ðŸ”Œ Testar ConexÃ£o Yampi'}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}